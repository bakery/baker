import { TabBarIOS } from 'react-native';
import { actions as navigationActions } from 'react-native-navigation-redux-helpers';

const { jumpTo } = navigationActions;

class {{componentName}} extends Component {
  render() {
    const { dispatch, {{reducerName}} } = this.props;
    const children = {{reducerName}}.routes.map( (tab, i) => {
      return (
        <TabBarIOS.Item key={tab.key}
            icon={tab.icon}
            selectedIcon={tab.selectedIcon}
            title={tab.title} onPress={
              () => dispatch(jumpTo(i, {{reducerName}}.key))
            }
            selected={this.props.{{reducerName}}.index === i}>
            { this._renderTabContent(tab) }
        </TabBarIOS.Item>
      );
    });
    return (
      <TabBarIOS>
        {children}
      </TabBarIOS>
    );
  }

  _renderTabContent(tab) {
    // XX: replace this with code to render specific components/containers
    // corresponding to tabs in your app, e.g.
    // if (tab.key === 'maps') {
    //   return <MapView />;
    // }

    return (
      <View style={ styles.container }>
        <Text>Generic Tab</Text>
      </View>
    );
  }
}

{{> mapDispatchAndPropsAndConnect }}